<% sent_request_to_user = current_user.friend_requests_as_requestor.all.where(requestor_id: current_user.id).all.where(receiver_id: user.id).any? %>

<% received_request_from_user = current_user.friend_requests_as_receiver.all.where(requestor_id: user.id).all.where(receiver_id: current_user.id).any? %>


<div class="p-4 border-t-2 border-r-2 border-b-2 border-l-4 border-gray-200">

    <div class="text-3xl pb-2">
      <div class="px-3 ">
        <div class="row justify-content-between">

          <% if locale_to != "Users#show" %>
            <%= link_to "#{user.name}", user_path(user) %>
          <% else %>
            <%= user.name%>
          <% end %>

          <% if user == current_user %>
              <span class="text-2xl text-gray-600"> (me)</span>
              <!-- <h1> me == true</h1> -->

          <% elsif (sent_request_to_user == true) %>

              <span class="text-2xl text-gray-600"> pending</span>
              <!-- <h1>sent_request_to_user == true </h1> -->

          <% elsif (received_request_from_user == true) %>

            <span class="text-2xl text-gray-600"> accept request</span>
            <!-- <h1>received_request_from_user == true</h1> -->

            <%#= render :partial => "friend_requests/request_buttons/delete_request_button", locals: { user:user} %>
          <% else  %>
            <%= render :partial => "friend_requests/request_buttons/add_friend_button", locals: { user: user} %>

          <% end %>
        </div>
      </div>
    </div>

    <div class="p-4 border-2 border-gray-200">
        email: <%= user.email %>
        <br>
        username: <%= user.username %>
        <br>
        phone_number: <%= user.phone_number %>
        <br>
    </div>

    <% if received_request_from_user %>
      <% received_request_id = current_user.friend_requests_as_receiver.all.where(requestor_id: user.id).all.where(receiver_id: current_user.id).first.id  %>
        <div class="pt-4 pl-4">
        <p class="  -p-2 text-xs"> Friend Request ID: <%= received_request_id %></p>
        <p class="  -p-2 text-xs"> (Partial) User ID: <%= user.id %></p>
        <p class="  -p-2 text-xs"> current_user ID: <%= current_user.id %></p>
        </div>

    <% end %>

    <% if sent_request_to_user %>
      <% sent_request_id = current_user.friend_requests_as_requestor.all.where(requestor_id: current_user.id).all.where(receiver_id: user.id).first.id %>
      <div class="pt-4 pl-4">
          <p class="  -p-2 text-xs"> Friend Request ID: <%= sent_request_id %></p>
          <p class="  -p-2 text-xs"> (Partial) User ID: <%= user.id %></p>
          <p class="  -p-2 text-xs"> current_user ID: <%= current_user.id %></p>
        </div>

    <% end %>





</div>

<br>
<br>
